Index: app/src/main/java/com/example/elshare/map_frag.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.elshare;\n\nimport android.app.AlertDialog;\nimport android.app.Dialog;\nimport android.app.ProgressDialog;\nimport android.content.Context;\nimport android.content.DialogInterface;\nimport android.content.SharedPreferences;\nimport android.graphics.Bitmap;\nimport android.graphics.Canvas;\nimport android.graphics.Color;\nimport android.graphics.drawable.ColorDrawable;\nimport android.graphics.drawable.Drawable;\nimport android.os.Build;\nimport android.os.Bundle;\nimport android.preference.PreferenceManager;\nimport android.text.TextUtils;\nimport android.util.Log;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.AdapterView;\nimport android.widget.ArrayAdapter;\nimport android.widget.AutoCompleteTextView;\nimport android.widget.Button;\nimport android.widget.CheckBox;\nimport android.widget.CompoundButton;\nimport android.widget.ImageButton;\nimport android.widget.LinearLayout;\nimport android.widget.ListView;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\nimport androidx.annotation.RequiresApi;\nimport androidx.core.content.ContextCompat;\nimport androidx.fragment.app.Fragment;\nimport androidx.recyclerview.widget.GridLayoutManager;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport com.example.elshare.adapter.AvailabilityTimeSlotAdapter;\nimport com.example.elshare.adapter.ChargerTypeAdapter;\nimport com.example.elshare.adapter.GooglePlacesAutocompleteAdapter;\nimport com.example.elshare.adapter.SocketTypeAdapter;\nimport com.example.elshare.utils.SingletonRetrofit;\nimport com.google.android.gms.maps.CameraUpdateFactory;\nimport com.google.android.gms.maps.GoogleMap;\nimport com.google.android.gms.maps.OnMapReadyCallback;\nimport com.google.android.gms.maps.SupportMapFragment;\nimport com.google.android.gms.maps.model.BitmapDescriptor;\nimport com.google.android.gms.maps.model.BitmapDescriptorFactory;\nimport com.google.android.gms.maps.model.LatLng;\nimport com.google.android.gms.maps.model.Marker;\nimport com.google.android.gms.maps.model.MarkerOptions;\nimport com.google.android.material.bottomsheet.BottomSheetDialog;\nimport com.google.gson.Gson;\nimport com.google.gson.reflect.TypeToken;\nimport com.mohammedalaa.seekbar.DoubleValueSeekBarView;\nimport com.mohammedalaa.seekbar.OnDoubleValueSeekBarChangeListener;\nimport com.yahoo.mobile.client.android.util.rangeseekbar.RangeSeekBar;\n\nimport java.io.StringWriter;\nimport java.lang.reflect.Type;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.HashSet;\nimport java.util.List;\nimport java.util.Set;\n\nimport datamodel.APIInterface;\nimport datamodel.Connector_type;\nimport datamodel.MarkerData;\nimport datamodel.ShowAvailabilityPojo;\nimport datamodel.ShowAvailabilityProvider;\nimport datamodel.Socket;\nimport okhttp3.MediaType;\nimport okhttp3.RequestBody;\nimport retrofit2.Call;\nimport retrofit2.Callback;\nimport retrofit2.Response;\n\npublic class map_frag extends Fragment implements OnMapReadyCallback, AdapterView.OnItemClickListener\n{\n    ImageButton mapFilter;\n    private GoogleMap mMap;\n    Dialog pw;\n    ListView lv_languages;\n    BottomSheetDialog bottomSheetDialog;\n    ArrayAdapter list_adapter;\n    Dialog myDialog;\n    DoubleValueSeekBarView  rangeSeekBar;\n    GooglePlacesAutocompleteAdapter mGooglePlacesAutocompleteAdapter;\n    AutoCompleteTextView mAddressAutoCompleteTextView;\n    private Button apply_p,reset_b,price,avail,rate,rate_a,rate_r,avail_a,avail_r,price_a,price_r,show_list;\n     Boolean priceVisible;\n    Dialog viewDetailDialog;\n\n    RecyclerView recyclerView;\n    AvailabilityTimeSlotAdapter adapter;\n    RecyclerView.LayoutManager layoutManager;\n    ArrayList<String> time_array = new ArrayList<>();\n    ArrayList<String> day_array = new ArrayList<>();\n\n    RangeSeekBar seekBar;\n    RequestBody priceStartBody;\n    RequestBody priceEndBody;\n    RequestBody placeNameBody;\n    RequestBody socketDataBody;\n    RequestBody timeSlotBody;\n    RequestBody availableDayBody;\n    RequestBody chargerBody;\n\n    TextView chargerTypeText;\n    TextView socketTypeText;\n    TextView connetorText;\n    TextView priceText;\n    private List<MarkerData> markerData;\n    private MarkerData markerList;\n    private List<Connector_type> connetor_set;\n    private Connector_type my_connector;\n    private List<Socket> socket_set;\n    private Socket socketArray;\n\n    public int i;\n    SharedPreferences.Editor editor;\n    final ArrayList<String> chargerType = new ArrayList<>();\n    final ArrayList<String> socketType = new ArrayList<>();\n    ArrayList<String> selectedSocket = new ArrayList<>();\n    ArrayList<String> selectedCharger = new ArrayList<>();\n    ArrayList<String> availabilityDays = new ArrayList<>();\n    ArrayList<String> timeSlotArray = new ArrayList<>();\n    private ArrayList<CheckBox> checkBoxArrayList = new ArrayList<>();\n\n    View mapMarkerView ;\n\n\n    SocketTypeAdapter socketTypeAdapter;\n    ChargerTypeAdapter chargerTypeAdapter;\n    SupportMapFragment mapFragment;\n    Set set = new HashSet();\n\n    CheckBox monday;\n    CheckBox tuesday;\n    CheckBox wednesday;\n    CheckBox thursday;\n    CheckBox friday;\n    CheckBox satursday;\n    CheckBox sunday;\n    CheckBox morningTime;\n    CheckBox middayTime;\n    CheckBox afternoonTime;\n    CheckBox eveningTime;\n    CheckBox  nightTime;\n\n     String chargerString ;\n     String connectorTypeString;\n     String priceRateString;\n     String list_id;\n     SharedPreferences preferences;\n    @Nullable\n    @Override\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n        final View rootView = inflater.inflate(R.layout.map_frag, container, false);\n        preferences = PreferenceManager.getDefaultSharedPreferences(getContext());\n\n        mapFilter = rootView.findViewById(R.id.imageButton35);\n        myDialog = new Dialog(getContext());\n        mAddressAutoCompleteTextView=rootView.findViewById(R.id.autoCompleteTextViewMap);\n        mGooglePlacesAutocompleteAdapter = new GooglePlacesAutocompleteAdapter(getContext(), R.layout.support_simple_spinner_dropdown_item);\n        mAddressAutoCompleteTextView.setAdapter(mGooglePlacesAutocompleteAdapter);\n        mAddressAutoCompleteTextView.setOnItemClickListener(this);\n         seekBar = new RangeSeekBar<Integer>(getContext());\n\n        mapFragment= (SupportMapFragment) getChildFragmentManager().findFragmentById(R.id.map);\n        initialMarkers();\n\n        mapFilter.setOnClickListener(new View.OnClickListener() {\n            @RequiresApi(api = Build.VERSION_CODES.KITKAT)\n            @Override\n            public void onClick(View v) {\n\n                socketType.clear();\n                chargerType.clear();\n                final RecyclerView chargerTypeRecycleView;\n                final RecyclerView socketTypeRecycleView;\n                final TextView minText;\n                final TextView maxText;\n                Button mapFilterSortByPrice;\n                final LinearLayout priceLayout;\n                pw=new Dialog(v.getRootView().getContext(), R.style.PauseDialog);\n                pw.getWindow().setBackgroundDrawable(new ColorDrawable(Color.WHITE));\n                pw.setTitle(\"Map Filter\");\n                pw.setContentView(R.layout.filter_window);\n                minText=pw.findViewById(R.id.filterMinRange);\n                maxText=pw.findViewById(R.id.filterMaxRange);\n                priceLayout=pw.findViewById(R.id.pricesortLayout);\n                priceLayout.setVisibility(View.GONE);\n                priceVisible=true;\n                mapFilterSortByPrice=pw.findViewById(R.id.mapFilterSortByPrice);\n                mapFilterSortByPrice.setOnClickListener(new View.OnClickListener() {\n                    @Override\n                    public void onClick(View v) {\n                        if (priceVisible)\n                        {\n                            priceLayout.setVisibility(View.VISIBLE);\n                            priceVisible=false;\n                        }\n                        else\n                        {\n                            priceLayout.setVisibility(View.GONE);\n                            priceVisible=true;\n\n                        }\n\n                    }\n                });\n\n                 rangeSeekBar=pw.findViewById(R.id.double_range_seekbar);\n                rangeSeekBar.setOnRangeSeekBarViewChangeListener(new OnDoubleValueSeekBarChangeListener() {\n                    @Override\n                    public void onValueChanged(@Nullable DoubleValueSeekBarView seekBar, int min, int max, boolean fromUser) {\n\n                        Log.i(\"Min:\", String.valueOf(min));\n                        Log.i(\"Max:\", String.valueOf(max));\n                        minText.setText(String.valueOf(min));\n                        maxText.setText(String.valueOf(max));\n\n                    }\n\n                    @Override\n                    public void onStartTrackingTouch(@Nullable DoubleValueSeekBarView seekBar, int min, int max) {\n\n                    }\n\n                    @Override\n                    public void onStopTrackingTouch(@Nullable DoubleValueSeekBarView seekBar, int min, int max) {\n\n                    }\n                });\n                if (priceVisible) {\n                    priceStartBody = RequestBody.create(MediaType.parse(\"multipart/form-data\"), minText.getText().toString());\n                    priceEndBody = RequestBody.create(MediaType.parse(\"multipart/form-data\"), maxText.getText().toString());\n                }\n\n                monday=pw.findViewById(R.id.mapFilterMonday);\n                tuesday=pw.findViewById(R.id.mapFilterTuesday);\n                wednesday=pw.findViewById(R.id.mapFilterWednesday);\n                thursday=pw.findViewById(R.id.mapFilterThursday);\n                friday=pw.findViewById(R.id.mapFilterFriday);\n                satursday=pw.findViewById(R.id.mapFilterSatursday);\n                sunday=pw.findViewById(R.id.mapFilterSunday);\n                morningTime=pw.findViewById(R.id.mapFilterTimeMorning);\n                afternoonTime=pw.findViewById(R.id.mapFilterTimeAfternoon);\n                middayTime=pw.findViewById(R.id.mapFilterTimeMidDay);\n                eveningTime=pw.findViewById(R.id.mapFilterTimeEvening);\n                nightTime=pw.findViewById(R.id.mapFilterTimeOverNight);\n                mainatinStateOfCheckboxes(v);\n                monday.setChecked(preferences.getBoolean(\"monday\", false));\n                tuesday.setChecked(preferences.getBoolean(\"tuesday\", false));\n                wednesday.setChecked(preferences.getBoolean(\"wednesday\", false));\n                thursday.setChecked(preferences.getBoolean(\"thursday\", false));\n                friday.setChecked(preferences.getBoolean(\"friday\", false));\n                satursday.setChecked(preferences.getBoolean(\"satursday\", false));\n                sunday.setChecked(preferences.getBoolean(\"sunday\", false));\n\n                morningTime.setChecked(preferences.getBoolean(\"morning\", false));\n                middayTime.setChecked(preferences.getBoolean(\"midday\", false));\n                afternoonTime.setChecked(preferences.getBoolean(\"afternoon\", false));\n                eveningTime.setChecked(preferences.getBoolean(\"evening\", false));\n                nightTime.setChecked(preferences.getBoolean(\"overnight\", false));\n\n                monday.setOnCheckedChangeListener(new mSingleCheckBoxChangeListener());\n                tuesday.setOnCheckedChangeListener(new mSingleCheckBoxChangeListener());\n                wednesday.setOnCheckedChangeListener(new mSingleCheckBoxChangeListener());\n                thursday.setOnCheckedChangeListener(new mSingleCheckBoxChangeListener());\n                friday.setOnCheckedChangeListener(new mSingleCheckBoxChangeListener());\n                satursday.setOnCheckedChangeListener(new mSingleCheckBoxChangeListener());\n                sunday.setOnCheckedChangeListener(new mSingleCheckBoxChangeListener());\n                morningTime.setOnCheckedChangeListener(new mSingleCheckBoxChangeListener());\n                middayTime.setOnCheckedChangeListener(new mSingleCheckBoxChangeListener());\n                afternoonTime.setOnCheckedChangeListener(new mSingleCheckBoxChangeListener());\n                eveningTime.setOnCheckedChangeListener(new mSingleCheckBoxChangeListener());\n                nightTime.setOnCheckedChangeListener(new mSingleCheckBoxChangeListener());\n\n                chargerTypeRecycleView =pw.findViewById(R.id.mapFilterChargerType);\n                socketTypeRecycleView =pw.findViewById(R.id.mapFilterSocketType);\n\n\n                APIInterface service = SingletonRetrofit.getAPIInterface();\n                Call<List<Connector_type>> call = service.getConnectorMapFilter();\n                Log.i(\"Connector_api  : \", String.valueOf(call.request().url()));\n                call.enqueue(new Callback<List<Connector_type>>() {\n                    @Override\n                    public void onResponse(Call<List<Connector_type>> call, Response<List<Connector_type>> response) {\n                        if (response.body() != null) {\n                            Log.i(\"login response: \", String.valueOf(response.body()));\n                            connetor_set = response.body();\n                            if (connetor_set != null) {\n                                ArrayList make_array = (ArrayList) response.body();\n                                String demo_str = null;\n                                int i;\n                                for (i = 0; i < make_array.size(); i++) {\n                                    my_connector = connetor_set.get(i);\n                                    demo_str = my_connector.getConnectorType();\n                                    chargerType.add(demo_str);\n                                }\n                                chargerTypeRecycleView.setHasFixedSize(true);\n                                GridLayoutManager manager = new GridLayoutManager(getContext(), 2);\n                                chargerTypeRecycleView.setLayoutManager(manager);\n                                chargerTypeAdapter = new ChargerTypeAdapter(getContext(), chargerType);\n                                chargerTypeRecycleView.setAdapter(chargerTypeAdapter);\n                            }\n                        }\n                        else {\n\n                        }\n                    }\n\n                    @Override\n                    public void onFailure(Call<List<Connector_type>> call, Throwable t) {\n                        Log.i(\"login error: \", String.valueOf(t));\n                    }\n                });\n\n                Call<List<Socket>> call_socket = service.getSocketMapFilter();\n                call_socket.enqueue(new Callback<List<Socket>>() {\n                    @Override\n                    public void onResponse(Call<List<Socket>> call_socket, Response<List<Socket>> response) {\n                        if (response.body() != null) {\n                            Log.i(\"login response: \", String.valueOf(response.body()));\n                            socket_set = response.body();\n                            if (socket_set != null) {\n                                ArrayList make_array = (ArrayList) response.body();\n                                String demo_str = null;\n                                int i;\n                                for (i = 0; i < make_array.size(); i++) {\n                                    socketArray = socket_set.get(i);\n                                    demo_str = socketArray.getSocket();\n                                    socketType.add(demo_str);\n                                }\n                                socketTypeRecycleView.setHasFixedSize(true);\n                                GridLayoutManager manager = new GridLayoutManager(getContext(), 2);\n                                socketTypeRecycleView.setLayoutManager(manager);\n                                socketTypeAdapter = new SocketTypeAdapter(getContext(), socketType);\n                                socketTypeRecycleView.setAdapter(socketTypeAdapter);\n                            }\n                        }\n                        else {\n                        }\n                    }\n\n                    @Override\n                    public void onFailure(Call<List<Socket>> call_socket, Throwable t) {\n                        Log.i(\"login error: \", String.valueOf(t));\n                    }\n                });\n\n                pw.show();\n                reset_b=pw.findViewById(R.id.mapFilterReset);\n                final LinearLayout timeSlotLayout=pw.findViewById(R.id.timeSlotLayout);\n                final LinearLayout availabilityLayout=pw.findViewById(R.id.availabilityLayout);\n                reset_b.setOnClickListener(new View.OnClickListener() {\n                    @Override\n                    public void onClick(View v) {\n                        availableDayBody = RequestBody.create(MediaType.parse(\"multipart/form-data\"), \"\");\n                        timeSlotBody = RequestBody.create(MediaType.parse(\"multipart/form-data\"), \"\");\n                        chargerBody = RequestBody.create(MediaType.parse(\"multipart/form-data\"), \"\");\n                        socketDataBody = RequestBody.create(MediaType.parse(\"multipart/form-data\"), \"\");\n                        for(int i=0; i<timeSlotLayout.getChildCount();i++){\n                            v = timeSlotLayout.getChildAt(i);\n                            if(v instanceof CheckBox ){\n                                ((CheckBox) v).setChecked(false);\n                            }\n                        }\n                        for (int i=0;i<availabilityLayout.getChildCount();i++)\n                        {\n                            v=availabilityLayout.getChildAt(i);\n                            {\n                                if (v instanceof  CheckBox)\n                                {\n                                    ((CheckBox) v).setChecked(false);\n\n                                }\n                            }\n                        }\n                        editor=preferences.edit();\n                        editor.remove(\"SOCKET_SET\");\n                        editor.remove(\"CHARGER_SET\");\n                        editor.apply();\n                        pw.dismiss();\n                        defaultMarker();\n                    }\n                });\n                apply_p=pw.findViewById(R.id.mapFilterApply);\n                apply_p.setOnClickListener(new View.OnClickListener() {\n                    @Override\n                    public void onClick(View v) {\n                        pw.dismiss();\n\n                        Gson gson = new Gson();\n                        String charger_str = preferences.getString(\"CHARGER_SET\", \"null\");\n                        if (charger_str.isEmpty()) { } else {\n                            Type type = new TypeToken<List<String>>() {\n                            }.getType();\n                            selectedCharger = gson.fromJson(charger_str, type);\n                            Log.i(\"Selected charger:\", String.valueOf(selectedCharger));\n                        }\n\n                        String socket_str = preferences.getString(\"SOCKET_SET\", \"null\");\n                        if (socket_str.isEmpty()) { } else {\n                            Type type = new TypeToken<List<String>>() {\n                            }.getType();\n                            selectedSocket = gson.fromJson(socket_str, type);\n                            Log.i(\"Selected charger:\", String.valueOf(selectedSocket));\n                        }\n                        availableDayBody = RequestBody.create(MediaType.parse(\"multipart/form-data\"), availabilityDays.toString());\n                        timeSlotBody = RequestBody.create(MediaType.parse(\"multipart/form-data\"), timeSlotArray.toString());\n                        Log.i(\"Selected Time:\", String.valueOf(timeSlotArray));\n\n\n                        if (selectedSocket!=null && selectedCharger!=null) {\n                            chargerBody = RequestBody.create(MediaType.parse(\"multipart/form-data\"), charger_str);\n                            socketDataBody = RequestBody.create(MediaType.parse(\"multipart/form-data\"), socket_str);\n                            Log.i(\"Available Day:\", String.valueOf(availabilityDays));\n                            defaultMarker();\n                        }\n\n                        else if (selectedSocket!=null && selectedCharger==null && selectedCharger.isEmpty())\n                        {\n                            socketDataBody = RequestBody.create(MediaType.parse(\"multipart/form-data\"), socket_str);\n                            defaultMarker();\n                        }\n\n                    }\n                });\n\n            }\n        });\n\n        return rootView;\n    }\n\n    private void mainatinStateOfCheckboxes(View v) {\n    }\n\n    private void defaultMarker()\n    {\n        final ProgressDialog mProgressDialog = new ProgressDialog(getContext());\n        mProgressDialog.setIndeterminate(true);\n        mProgressDialog.setMessage(\"Loading...\");\n        mProgressDialog.show();\n        mapFragment.getMapAsync(new OnMapReadyCallback() {\n            @Override\n            public void onMapReady(final GoogleMap mMap) {\n                mMap.setMapType(GoogleMap.MAP_TYPE_NORMAL);\n\n                mMap.clear();\n\n                final ArrayList<Double> latArray=new ArrayList<>();\n                final ArrayList<Double> longArray=new ArrayList<>();\n\n                final ArrayList<String> chrgerTypeArray=new ArrayList<>();\n                final ArrayList<String> connectorTypeArray=new ArrayList<>();\n                final ArrayList<String> rateFinalPriceArray=new ArrayList<>();\n                final ArrayList<String> listingId=new ArrayList<>();\n                final ArrayList<String> hostArray=new ArrayList<>();\n\n\n                placeNameBody = RequestBody.create(MediaType.parse(\"multipart/form-data\"), mAddressAutoCompleteTextView.getText().toString());\n\n                APIInterface service = SingletonRetrofit.getAPIInterface();\n                Call<List<MarkerData>> call = service.getMarkerData(priceStartBody,priceEndBody,placeNameBody,socketDataBody,timeSlotBody,availableDayBody,chargerBody);\n                call.enqueue(new Callback<List<MarkerData>>() {\n                    @Override\n                    public void onResponse(Call<List<MarkerData>> call, Response<List<MarkerData>> response) {\n                        if (response.body() != null) {\n                            markerData=response.body();\n                            if (markerData!=null) {\n                                ArrayList markerArray = (ArrayList) response.body();\n\n                                for (i = 0; i < markerArray.size(); i++) {\n                                    markerList = markerData.get(i);\n\n                                    Double lat = markerList.getLatitude();\n                                    Double lng = markerList.getLongitude();\n                                    latArray.add(lat);\n                                    longArray.add(lng);\n                                    chrgerTypeArray.add(markerList.getBrand());\n                                    connectorTypeArray.add(markerList.getConnectorType());\n                                    rateFinalPriceArray.add(markerList.getFinalPrice());\n                                    listingId.add(String.valueOf(markerList.getId()));\n                                    list_id=String.valueOf(markerList.getId());\n                                    hostArray.add(markerList.getTable());\n                                }\n                                for (i = 0; i < latArray.size(); i++) {\n                                    if (latArray.get(i)!=null) {\n                                        if (chrgerTypeArray.get(i) != null) {\n                                            chargerString = chrgerTypeArray.get(i);\n                                            connectorTypeString = connectorTypeArray.get(i);\n                                            priceRateString = rateFinalPriceArray.get(i);\n                                            list_id = listingId.get(i);\n                                            Log.i(\"Brand:\", chargerString);\n                                            Log.i(\"Listing Id:\", listingId.get(i));\n\n                                            Log.i(\"Lattitude:\", String.valueOf(latArray.get(i)));\n                                            Log.i(\"Longitude:\", String.valueOf(longArray.get(i)));\n\n                                            LatLng latLngPosition = new LatLng(latArray.get(i), longArray.get(i)); ///\n                                            Log.i(\"Lat Lng:\", String.valueOf(latLngPosition));\n                                            mMap.addMarker(new MarkerOptions().position(latLngPosition).title(list_id).snippet(hostArray.get(i)).icon(bitmapDescriptorFromVector(getContext(),R.drawable.pin_marker)));\n                                            mMap.moveCamera(CameraUpdateFactory.newLatLng(latLngPosition));\n                                            mMap.getUiSettings().setZoomControlsEnabled(true);\n                                            mMap.animateCamera(CameraUpdateFactory.zoomOut(), 10, null);\n\n                                            mMap.setOnInfoWindowClickListener(new GoogleMap.OnInfoWindowClickListener() {\n                                                @Override\n                                                public void onInfoWindowClick(Marker marker) {\n                                                    showAlertDialog(marker.getTitle(),marker.getSnippet());\n                                                }\n                                            });\n\n                                            mMap.setOnMarkerClickListener(new GoogleMap.OnMarkerClickListener() {\n                                                @Override\n                                                public boolean onMarkerClick(Marker marker) {\n\n                                                    mMap.setInfoWindowAdapter(new GoogleMap.InfoWindowAdapter() {\n                                                        @Override\n                                                        public View getInfoWindow(Marker arg0) {\n                                                            return null;\n                                                        }\n\n                                                        @Override\n                                                        public View getInfoContents(Marker arg0) {\n                                                            Log.i(\"ID:\", String.valueOf(arg0.getTitle()));\n                                                            Log.i(\"HOST:\",arg0.getSnippet());\n                                                            String hostStr=arg0.getSnippet();\n                                                            hostStr=trimSingleQuote(hostStr);\n\n                                                            try {\n                                                                APIInterface service = SingletonRetrofit.getAPIInterface();\n                                                                Call<ShowAvailabilityPojo> call = service.getAvailability(arg0.getTitle(),hostStr);\n                                                                Log.i(\"Connector_api  : \", String.valueOf(call.request().url()));\n                                                                call.enqueue(new Callback<ShowAvailabilityPojo>() {\n                                                                    @Override\n                                                                    public void onResponse(Call<ShowAvailabilityPojo> call, Response<ShowAvailabilityPojo> response) {\n                                                                        if (response.body() != null) {\n                                                                            ShowAvailabilityPojo avaiPojo=response.body();\n                                                                            if (avaiPojo!=null)\n                                                                            {\n                                                                                ShowAvailabilityProvider providerObject=avaiPojo.getProvider();\n                                                                                if (providerObject!=null)\n                                                                                {\n                                                                                    mapMarkerView = getLayoutInflater().inflate(R.layout.text_auto, null);\n\n                                                                                    connetorText =(TextView) mapMarkerView.findViewById(R.id.type_type);\n                                                                                    priceText = mapMarkerView.findViewById(R.id.rate_type);\n                                                                                    chargerTypeText = mapMarkerView.findViewById(R.id.charger_type);\n                                                                                    chargerTypeText.bringToFront();\n\n                                                                                    if (providerObject.getPowerOutput()!=null) {\n                                                                                        connetorText.setText(providerObject.getPowerOutput());\n                                                                                    }\n                                                                                    else {\n                                                                                        connetorText.setText(\"null\");\n                                                                                    }\n                                                                                    priceText.setText(providerObject.getFinalPrice());\n                                                                                    if (providerObject.getChargerBrand()!=null)\n                                                                                    {\n                                                                                        StringWriter sw = new StringWriter();\n                                                                                        sw.append(\"Charger Brand:\");\n                                                                                        sw.append(providerObject.getChargerBrand());\n                                                                                        chargerTypeText.setText(sw.toString());\n                                                                                    }\n                                                                                    else\n                                                                                    {\n                                                                                        StringWriter sw = new StringWriter();\n                                                                                        sw.append(\"Socket:\");\n                                                                                        sw.append(providerObject.getChargerBrand());\n                                                                                        chargerTypeText.setText(sw.toString());\n                                                                                    }\n                                                                                    Log.i(\"Data:\",(connetorText.getText().toString()));\n                                                                                }\n                                                                            }\n                                                                        }\n                                                                    }\n\n                                                                    @Override\n                                                                    public void onFailure(Call<ShowAvailabilityPojo> call, Throwable t) {\n\n                                                                    }\n                                                                });\n\n\n                                                            } catch (Exception ev) {\n                                                                System.out.print(ev.getMessage());\n                                                            }\n                                                            return mapMarkerView;\n                                                        }\n                                                    });\n                                                    return false;\n                                                }\n                                            });\n                                        }\n                                    }\n                                }\n                            }\n                            else {\n                                Toast.makeText(getContext(), \"No Listing available.\", Toast.LENGTH_SHORT).show();\n                            }\n                        }\n                        mProgressDialog.dismiss();\n                    }\n\n                    @Override\n                    public void onFailure(Call<List<MarkerData>> call, Throwable t) {\n                        Log.i(\"Map error: \", String.valueOf(t));\n                        Toast.makeText(getContext(), \"Please check network.\", Toast.LENGTH_SHORT).show();\n                    }\n                });\n\n            }\n        });\n    }\n\n\n    public View getInfoContents(Marker marker) {\n        View view = getLayoutInflater().inflate(R.layout.text_auto, null);\n\n        TextView titleTextView = (TextView) view.findViewById(R.id.type_type);\n        TextView snippetTextView = (TextView) view.findViewById(R.id.rate_type);\n\n        titleTextView.setText(marker.getTitle());\n        snippetTextView.setText(marker.getSnippet());\n\n        return view;\n    }\n\n    private void initialMarkers()\n    {\n        final ProgressDialog mProgressDialog = new ProgressDialog(getContext());\n        mProgressDialog.setIndeterminate(true);\n        mProgressDialog.setMessage(\"Loading...\");\n        mProgressDialog.show();\n        mapFragment.getMapAsync(new OnMapReadyCallback() {\n            @Override\n            public void onMapReady(final GoogleMap mMap) {\n                mMap.setMapType(GoogleMap.MAP_TYPE_NORMAL);\n\n                mMap.clear();\n\n                final ArrayList<Double> latArray=new ArrayList<>();\n                final ArrayList<Double> longArray=new ArrayList<>();\n\n                final ArrayList<String> chrgerTypeArray=new ArrayList<>();\n                final ArrayList<String> connectorTypeArray=new ArrayList<>();\n                final ArrayList<String> rateFinalPriceArray=new ArrayList<>();\n                final ArrayList<String> listingId=new ArrayList<>();\n                final ArrayList<String> hostArray=new ArrayList<>();\n\n                placeNameBody = RequestBody.create(MediaType.parse(\"multipart/form-data\"), mAddressAutoCompleteTextView.getText().toString());\n\n                APIInterface service = SingletonRetrofit.getAPIInterface();\n                Call<List<MarkerData>> call = service.getMarkerData(priceStartBody,priceEndBody,placeNameBody,socketDataBody,timeSlotBody,availableDayBody,chargerBody);\n                call.enqueue(new Callback<List<MarkerData>>() {\n                    @Override\n                    public void onResponse(Call<List<MarkerData>> call, Response<List<MarkerData>> response) {\n                        if (response.body() != null) {\n                            markerData=response.body();\n                            if (markerData!=null) {\n                                ArrayList markerArray = (ArrayList) response.body();\n\n                                for (i = 0; i < markerArray.size(); i++) {\n                                    markerList = markerData.get(i);\n                                    Double lat = markerList.getLatitude();\n                                    Double lng = markerList.getLongitude();\n                                    latArray.add(lat);\n                                    longArray.add(lng);\n                                    chrgerTypeArray.add(markerList.getBrand());\n                                    connectorTypeArray.add(markerList.getConnectorType());\n                                    rateFinalPriceArray.add(markerList.getFinalPrice());\n                                    listingId.add(String.valueOf(markerList.getId()));\n                                    hostArray.add(markerList.getTable());\n                                }\n                                for (i = 0; i < latArray.size(); i++) {\n                                    chargerString = chrgerTypeArray.get(i);\n                                    connectorTypeString=connectorTypeArray.get(i);\n                                    priceRateString=rateFinalPriceArray.get(i);\n                                    list_id=listingId.get(i);\n                                    Log.i(\"Brand:\",chargerString);\n                                    Log.i(\"Listing Id:\",listingId.get(i));\n                                        Log.i(\"Lattitude:\", String.valueOf(latArray.get(i)));\n                                        Log.i(\"Longitude:\", String.valueOf(longArray.get(i)));\n\n\n                                        LatLng latLngPosition = new LatLng(latArray.get(i), longArray.get(i)); ///\n                                        Log.i(\"Lat Lng:\", String.valueOf(latLngPosition));\n//                                    mMap.addMarker(new MarkerOptions().position(latLngPosition));\n                                        mMap.addMarker(new MarkerOptions().position(latLngPosition).title(list_id).snippet(hostArray.get(i)).icon(bitmapDescriptorFromVector(getContext(),R.drawable.pin_marker)));\n                                        mMap.moveCamera(CameraUpdateFactory.newLatLng(latLngPosition));\n                                        mMap.getUiSettings().setZoomControlsEnabled(true);\n                                        mMap.animateCamera(CameraUpdateFactory.zoomOut(), 10, null);\n\n                                        mMap.setOnInfoWindowClickListener(new GoogleMap.OnInfoWindowClickListener() {\n                                            @Override\n                                            public void onInfoWindowClick(Marker marker) {\n                                                showAlertDialog(marker.getTitle(),marker.getSnippet());\n                                            }\n                                        });\n\n                                        mMap.setOnMarkerClickListener(new GoogleMap.OnMarkerClickListener() {\n                                            @Override\n                                            public boolean onMarkerClick(final Marker marker) {\n\n                                                mMap.setInfoWindowAdapter(new GoogleMap.InfoWindowAdapter() {\n                                                    @Override\n                                                    public View getInfoWindow(Marker arg0) {\n                                                        return null;\n                                                    }\n\n                                                    @Override\n                                                    public View getInfoContents(Marker arg0) {\n                                                        Log.i(\"ID:\", String.valueOf(arg0.getTitle()));\n                                                        Log.i(\"HOST:\",arg0.getSnippet());\n                                                        String hostStr=arg0.getSnippet();\n                                                        hostStr=trimSingleQuote(hostStr);\n                                                        try {\n                                                            APIInterface service = SingletonRetrofit.getAPIInterface();\n                                                            Call<ShowAvailabilityPojo> call = service.getAvailability(arg0.getTitle(),hostStr);\n                                                            Log.i(\"Connector_api  : \", String.valueOf(call.request().url()));\n                                                            call.enqueue(new Callback<ShowAvailabilityPojo>() {\n                                                                @Override\n                                                                public void onResponse(Call<ShowAvailabilityPojo> call, Response<ShowAvailabilityPojo> response) {\n                                                                    if (response.body() != null) {\n                                                                        ShowAvailabilityPojo avaiPojo=response.body();\n                                                                        if (avaiPojo!=null)\n                                                                        {\n                                                                            ShowAvailabilityProvider providerObject=avaiPojo.getProvider();\n                                                                            if (providerObject!=null)\n                                                                            {\n                                                                                mapMarkerView = getLayoutInflater().inflate(R.layout.text_auto, null);\n\n                                                                                connetorText =(TextView) mapMarkerView.findViewById(R.id.type_type);\n                                                                                priceText = mapMarkerView.findViewById(R.id.rate_type);\n                                                                                chargerTypeText = mapMarkerView.findViewById(R.id.charger_type);\n                                                                                chargerTypeText.bringToFront();\n                                                                                connetorText.setText(marker.getTitle());\n\n                                                                                if (providerObject.getConnectorType()!=null) {\n                                                                                    connetorText.setText(providerObject.getConnectorType());\n                                                                                }\n                                                                                else {\n                                                                                    connetorText.setText(\"null\");\n                                                                                }\n                                                                                priceText.setText(providerObject.getFinalPrice());\n                                                                                if (providerObject.getChargerBrand()!=null)\n                                                                                {\n\n                                                                                    StringWriter sw = new StringWriter();\n                                                                                    sw.append(\"Charger Brand:\");\n                                                                                    sw.append(providerObject.getChargerBrand());\n                                                                                    chargerTypeText.setText(sw.toString());\n                                                                                }\n                                                                                else\n                                                                                {\n                                                                                    StringWriter sw = new StringWriter();\n                                                                                    sw.append(\"Socket:\");\n                                                                                    sw.append(providerObject.getChargerBrand());\n                                                                                    chargerTypeText.setText(sw.toString());\n                                                                                }\n                                                                                Log.i(\"Data:\",(connetorText.getText().toString()));\n                                                                            }\n                                                                        }\n                                                                    }\n                                                                }\n\n                                                                @Override\n                                                                public void onFailure(Call<ShowAvailabilityPojo> call, Throwable t) {\n\n                                                                }\n                                                            });\n\n\n                                                        } catch (Exception ev) {\n                                                            System.out.print(ev.getMessage());\n                                                        }\n                                                        return mapMarkerView;\n                                                    }\n                                                });\n                                                return false;\n                                            }\n                                        });\n\n                                }\n                            }\n                            else {\n                                Toast.makeText(getContext(), \"No Listing available.\", Toast.LENGTH_SHORT).show();\n                            }\n                        }\n\n                        mProgressDialog.dismiss();\n                    }\n\n                    @Override\n                    public void onFailure(Call<List<MarkerData>> call, Throwable t) {\n                        Log.i(\"Map error: \", String.valueOf(t));\n                        Toast.makeText(getContext(), \"Please check network.\", Toast.LENGTH_SHORT).show();\n                    }\n                });\n\n            }\n        });\n    }\n    private void showAlertDialog(String hostId,String  hostTable)\n    {\n\n        String hostStr=hostTable;\n        hostStr=trimSingleQuote(hostStr);\n        String title_str=hostStr +\" \"+\"charger\";\n        Log.i(\"Table name:\",title_str);\n        viewDetailDialog=new Dialog(getContext(),R.style.DialogAlignment);\n        viewDetailDialog.setContentView(R.layout.pricing_reservation_pop_up);\n        recyclerView=viewDetailDialog.findViewById(R.id.availabilityTimeSlotRecycleView);\n\n        TextView pop_up_title=viewDetailDialog.findViewById(R.id.mapMarkerTitle);\n        if (hostStr.equals(\"publics\"))\n        {\n            pop_up_title.setText(\"Public Charger\");\n        }\n        else   if (hostStr.equals(\"residentials\"))\n        {\n            pop_up_title.setText(\"Residential Charger\");\n        }\n        else   if (hostStr.equals(\"commercials\"))\n        {\n            pop_up_title.setText(\"Commercial Charger\");\n        }\n\n        final TextView socket_type=viewDetailDialog.findViewById(R.id.mapMarkerPopUpSocket);\n        final TextView charger_type=viewDetailDialog.findViewById(R.id.mapMarkerPopUpCharger);\n        final TextView power_output=viewDetailDialog.findViewById(R.id.mapMarkerPopUpPower);\n        final TextView model_type=viewDetailDialog.findViewById(R.id.mapMarkerPopUpModel);\n        final TextView connector_type=viewDetailDialog.findViewById(R.id.mapMarkerPopUpConnctor);\n        final TextView rate_text=viewDetailDialog.findViewById(R.id.mapMarkerPopUpRate);\n        final TextView availableDay=viewDetailDialog.findViewById(R.id.mapMarkerPopUpAvailableDay);\n        final LinearLayout socketLayout=viewDetailDialog.findViewById(R.id.socketTypeLayout);\n        final LinearLayout chargerLayout=viewDetailDialog.findViewById(R.id.chargerTypeLayout);\n        Button pricingAndReservationButton=viewDetailDialog.findViewById(R.id.mapMarkerPopUpPricingButton);\n\n        final ProgressDialog mProgressDialog = new ProgressDialog(getContext());\n        mProgressDialog.setIndeterminate(true);\n        mProgressDialog.setMessage(\"Loading...\");\n        mProgressDialog.show();\n        day_array.clear();\n        time_array.clear();\n\n        APIInterface service = SingletonRetrofit.getAPIInterface();\n        Call<ShowAvailabilityPojo> call = service.getAvailability(hostId,hostStr);\n        Log.i(\"Connector_api  : \", String.valueOf(call.request().url()));\n        call.enqueue(new Callback<ShowAvailabilityPojo>() {\n                         @Override\n                         public void onResponse(Call<ShowAvailabilityPojo> call, Response<ShowAvailabilityPojo> response) {\n                             if (response.body() != null) {\n                                 ShowAvailabilityPojo availabilityPojo = response.body();\n                                 if (availabilityPojo!=null) {\n                                     Log.i(\"days:\",availabilityPojo.getProvider().getDays());\n                                     availableDay.setText(availabilityPojo.getProvider().getDays());\n                                     power_output.setText(availabilityPojo.getProvider().getPowerOutput());\n                                     rate_text.setText(availabilityPojo.getProvider().getFinalPrice());\n\n\n                                     if (availabilityPojo.getProvider().getChargerBrand()!=null) {\n                                         if (availabilityPojo.getProvider().getSocket()!=null) {\n                                             socket_type.setText(availabilityPojo.getProvider().getSocket());\n                                             power_output.setText(availabilityPojo.getProvider().getPowerOutput());\n                                             chargerLayout.setVisibility(View.GONE);\n                                             socketLayout.setVisibility(View.VISIBLE);\n                                             mProgressDialog.dismiss();\n                                         }\n                                         else\n                                         {\n                                             socket_type.setText(\"null\");\n                                         }\n                                     }\n                                     else\n                                     {\n                                      socketLayout.setVisibility(View.GONE);\n                                      chargerLayout.setVisibility(View.VISIBLE);\n                                      if (availabilityPojo.getProvider().getChargerBrand()!=null) {\n                                          charger_type.setText(availabilityPojo.getProvider().getChargerBrand());\n                                          model_type.setText(availabilityPojo.getProvider().getChargerModel());\n                                          connector_type.setText(availabilityPojo.getProvider().getConnectorType());\n                                          mProgressDialog.dismiss();\n                                      }\n                                      else\n                                      {\n                                          charger_type.setText(\"null\");\n                                      }\n                                     }\n\n                                     String selected_days=availabilityPojo.getProvider().getDays();\n                                     String single_day_string=availabilityPojo.getSingleDay();\n                                     Log.i(\"Connector_api\",single_day_string);\n\n                                     if (single_day_string.equals(\"0\"))\n                                     {\n                                         StringBuilder stringBuilder = new StringBuilder(\"\");\n                                         int listSize = availabilityPojo.getStartTime().size();\n                                         for (int itemIndex = 0; itemIndex < availabilityPojo.getStartTime().size(); itemIndex++) {\n                                             String startTime = availabilityPojo.getStartTime().get(itemIndex);\n                                             String endTime = availabilityPojo.getEndTime().get(itemIndex);\n                                             stringBuilder.append(startTime + \"-\" + endTime);\n                                             if (itemIndex < listSize - 1) {\n                                                 stringBuilder.append(\", \");\n                                             }\n                                         }\n                                         if (selected_days.contains(\"monday\")) {\n                                             time_array.add(stringBuilder.toString());\n                                             day_array.add(\"Monday\");\n                                         }\n                                         if (selected_days.contains(\"tuesday\")) {\n                                             time_array.add(stringBuilder.toString());\n                                             day_array.add(\"Tuesday\");\n                                         }\n                                         if (selected_days.contains(\"wednesday\")) {\n                                             time_array.add(stringBuilder.toString());\n                                             day_array.add(\"Wednesday\");\n                                         }\n                                         if (selected_days.contains(\"thursday\")) {\n                                             time_array.add(stringBuilder.toString());\n                                             day_array.add(\"Thursday\");\n                                         }\n                                         if (selected_days.contains(\"friday\")) {\n                                             time_array.add(stringBuilder.toString());\n                                             day_array.add(\"Friday\");\n                                         }\n                                         if (selected_days.contains(\"saturday\")) {\n                                             time_array.add(stringBuilder.toString());\n                                             day_array.add(\"Satursday\");\n                                         }\n                                         if (selected_days.contains(\"sunday\")) {\n                                             time_array.add(stringBuilder.toString());\n                                             day_array.add(\"Sunday\");\n                                         }\n                                     }\n                                     else\n                                     {\n                                         if (selected_days.contains(\"monday\")) {\n                                             String selectedTimeValue = getSelectedTimeForDay(availabilityPojo.getStartTimeMon(), availabilityPojo.getEndTimeMon());\n                                             time_array.add(selectedTimeValue);\n                                             day_array.add(\"Monday\");\n                                         }\n                                         if (selected_days.contains(\"tuesday\")) {\n                                             String selectedTimeValue = getSelectedTimeForDay(availabilityPojo.getStartTimeTues(), availabilityPojo.getEndTimeTues());\n                                             time_array.add(selectedTimeValue);\n                                             day_array.add(\"Tuesday\");\n                                         }\n                                         if (selected_days.contains(\"wednesday\")) {\n                                             String selectedTimeValue = getSelectedTimeForDay(availabilityPojo.getStartTimeWed(), availabilityPojo.getEndTimeWed());\n                                             time_array.add(selectedTimeValue);\n                                             day_array.add(\"Wednesday\");\n                                         }\n                                         if (selected_days.contains(\"thursday\")) {\n                                             String selectedTimeValue = getSelectedTimeForDay(availabilityPojo.getStartTimeThus(), availabilityPojo.getEndTimeThus());\n                                             time_array.add(selectedTimeValue);\n                                             day_array.add(\"Thursday\");\n                                         }\n                                         if (selected_days.contains(\"friday\")) {\n                                             String selectedTimeValue = getSelectedTimeForDay(availabilityPojo.getStartTimeFri(), availabilityPojo.getEndTimeFri());\n                                             time_array.add(selectedTimeValue);\n                                             day_array.add(\"friday\");\n\n                                         }\n                                         if (selected_days.contains(\"saturday\")) {\n                                             String selectedTimeValue = getSelectedTimeForDay(availabilityPojo.getStartTimeSat(), availabilityPojo.getEndTimeSat());\n                                             time_array.add(selectedTimeValue);\n                                             day_array.add(\"saturday\");\n\n                                         }\n                                         if (selected_days.contains(\"sunday\")) {\n                                             String selectedTimeValue = getSelectedTimeForDay(availabilityPojo.getStartTimeSun(), availabilityPojo.getEndTimeSun());\n                                             time_array.add(selectedTimeValue);\n                                             day_array.add(\"Sunday\");\n\n                                         }\n                                     }\n                                     Log.i(\"Provider\", availabilityPojo.getProvider().getDays());\n                                 }\n                                 if (day_array.size()==0) {\n                                     Toast.makeText(getContext(), \"No Availability of host.\", Toast.LENGTH_SHORT).show();\n                                 }\n                                 else\n                                 {\n                                     recyclerView.setHasFixedSize(true);\n                                     layoutManager = new LinearLayoutManager(getContext(), LinearLayoutManager.VERTICAL, false);\n                                     recyclerView.setLayoutManager(layoutManager);\n                                     adapter = new AvailabilityTimeSlotAdapter(getContext(), day_array, time_array);\n                                     recyclerView.setAdapter(adapter);\n                                 }\n\n                             }\n                             else {\n\n                             }\n                         }\n            @Override\n            public void onFailure(Call<ShowAvailabilityPojo> call, Throwable t) {\n                Log.i(\"Error\", String.valueOf(t.getMessage()));\n                Toast.makeText(getContext(), \"Internal server error.\", Toast.LENGTH_SHORT).show();\n            }\n        });\n\n        viewDetailDialog.show();\n    }\n\n\n    private BitmapDescriptor bitmapDescriptorFromVector(Context context, int vectorResId) {\n        Drawable vectorDrawable = ContextCompat.getDrawable(context, vectorResId);\n        vectorDrawable.setBounds(0, 0, vectorDrawable.getIntrinsicWidth(), vectorDrawable.getIntrinsicHeight());\n        Bitmap bitmap = Bitmap.createBitmap(vectorDrawable.getIntrinsicWidth(), vectorDrawable.getIntrinsicHeight(), Bitmap.Config.ARGB_8888);\n        Canvas canvas = new Canvas(bitmap);\n        vectorDrawable.draw(canvas);\n        return BitmapDescriptorFactory.fromBitmap(bitmap);\n    }\n\n\n    private void showAvailbilityPopUp() {\n        AlertDialog.Builder builder1 = new AlertDialog.Builder(getContext());\n        builder1.setMessage(\"Commercial Details \\n\\n Availability\");\n        builder1.setCancelable(true);\n        builder1.setPositiveButton(\"close\", new DialogInterface.OnClickListener() {\n            public void onClick(DialogInterface dialog, int id) {\n                dialog.cancel();\n            }\n        });\n        AlertDialog alertDialog = builder1.create();\n        alertDialog.show();\n    }\n\n    @Override\n    public void onItemClick(AdapterView<?> parent, View view, int position, long id) {\n        String place_name = mGooglePlacesAutocompleteAdapter.getItem(position);\n        place_name=trimDoubbleQuote(place_name);\n        Log.i(\"Place is:\",place_name);\n        mAddressAutoCompleteTextView.setText(place_name);\n        placeNameBody = RequestBody.create(MediaType.parse(\"multipart/form-data\"), mAddressAutoCompleteTextView.getText().toString());\n        defaultMarker();\n\n    }\n    public static String trimDoubbleQuote(String value){\n        return value.replaceAll(\"^\\\"|\\\"$\", \"\");\n    }\n    public static String trimSingleQuote(String value){\n        return value.replaceAll(\"^\\'|\\'$\", \"\");\n    }\n\n    @Override\n    public void onMapReady(GoogleMap googleMap) {\n\n    }\n\n    public class mSingleCheckBoxChangeListener implements CheckBox.OnCheckedChangeListener {\n        @Override\n        public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {\n            int backgroundColorGrey = ContextCompat.getColor(getContext(), R.color.quantum_grey);\n            int backgroundColorGreen = ContextCompat.getColor(getContext(), R.color.green);\n            boolean checkBoxValue;\n            editor=preferences.edit();\n            if (buttonView == monday) {\n                if (isChecked) {\n                    availabilityDays.add(\"monday\");\n                    checkBoxValue=true;\n                    editor.putBoolean(\"monday\", checkBoxValue);\n                    editor.apply();\n                } else {\n                    availabilityDays.remove(\"monday\");\n                     checkBoxValue =false;\n                    editor.putBoolean(\"monday\", checkBoxValue);\n                    editor.commit();\n\n                }\n            }\n\n            if (buttonView == tuesday) {\n                if (isChecked) {\n                    availabilityDays.add(\"tuesday\");\n                    checkBoxValue=true;\n                    editor.putBoolean(\"tuesday\", checkBoxValue);\n                    editor.apply();\n                } else {\n                    availabilityDays.remove(\"tuesday\");\n                    checkBoxValue=false;\n                    editor.putBoolean(\"tuesday\", checkBoxValue);\n                    editor.apply();\n                }\n            }\n\n            if (buttonView == wednesday) {\n                if (isChecked) {\n                    availabilityDays.add(\"wednesday\");\n                    checkBoxValue=true;\n                    editor.putBoolean(\"wednesday\", checkBoxValue);\n                    editor.apply();\n                } else {\n                    availabilityDays.remove(\"wednesday\");\n                    checkBoxValue=false;\n                    editor.putBoolean(\"wednesday\", checkBoxValue);\n                    editor.apply();\n                }\n            }\n\n            if (buttonView == thursday) {\n                if (isChecked) {\n                    availabilityDays.add(\"thursday\");\n                    checkBoxValue=true;\n                    editor.putBoolean(\"thursday\", checkBoxValue);\n                    editor.apply();\n                } else {\n                    availabilityDays.remove(\"thursday\");\n                    checkBoxValue=false;\n                    editor.putBoolean(\"thursday\", checkBoxValue);\n                    editor.apply();\n                }\n            }\n\n            if (buttonView == friday) {\n                if (isChecked) {\n                    availabilityDays.add(\"friday\");\n                    checkBoxValue=true;\n                    editor.putBoolean(\"friday\", checkBoxValue);\n                    editor.apply();\n                } else {\n                    availabilityDays.remove(\"friday\");\n                    checkBoxValue=false;\n                    editor.putBoolean(\"friday\", checkBoxValue);\n                    editor.apply();\n                }\n            }\n\n            if (buttonView == satursday) {\n                if (isChecked) {\n                    availabilityDays.add(\"saturday\");\n                    checkBoxValue=true;\n                    editor.putBoolean(\"satursday\", checkBoxValue);\n                    editor.apply();\n                } else {\n                    availabilityDays.remove(\"saturday\");\n                    checkBoxValue=false;\n                    editor.putBoolean(\"saturday\", checkBoxValue);\n                    editor.apply();\n                }\n            }\n\n            if (buttonView == sunday) {\n                if (isChecked) {\n                    availabilityDays.add(\"sunday\");\n                    checkBoxValue=true;\n                    editor.putBoolean(\"sunday\", checkBoxValue);\n                    editor.apply();\n                } else {\n                    availabilityDays.remove(\"sunday\");\n                    checkBoxValue=false;\n                    editor.putBoolean(\"sunday\", checkBoxValue);\n                    editor.apply();\n                }\n            }\n            if (buttonView==morningTime)\n            {\n                if (isChecked){\n                    timeSlotArray.add(\"8:00-11:00\");\n                    checkBoxValue=true;\n                    editor.putBoolean(\"morning\", checkBoxValue);\n                    editor.apply();\n                }\n                else {\n                    timeSlotArray.remove(\"8:00-11:00\");\n                    checkBoxValue=false;\n                    editor.putBoolean(\"morning\", checkBoxValue);\n                    editor.apply();\n                }\n            }\n            if (buttonView==middayTime)\n            {\n                if (isChecked){\n                    timeSlotArray.add(\"11:00-15:00\");\n                    checkBoxValue=true;\n                    editor.putBoolean(\"midday\", checkBoxValue);\n                    editor.apply();\n                }\n                else {\n                    timeSlotArray.remove(\"11:00-15:00\");\n                    checkBoxValue=false;\n                    editor.putBoolean(\"midday\", checkBoxValue);\n                    editor.apply();\n                }\n            }\n            if (buttonView==afternoonTime)\n            {\n                if (isChecked){\n                    timeSlotArray.add(\"15:00-18:00\");\n                    checkBoxValue=true;\n                    editor.putBoolean(\"afternoon\", checkBoxValue);\n                    editor.apply();\n                }\n                else {\n                    timeSlotArray.remove(\"15:00-18:00\");\n                    checkBoxValue=false;\n                    editor.putBoolean(\"afternoon\", checkBoxValue);\n                    editor.apply();\n                }\n            }\n            if (buttonView==eveningTime)\n            {\n                if (isChecked){\n                    timeSlotArray.add(\"18:00-21:00\");\n                    checkBoxValue=true;\n                    editor.putBoolean(\"evening\", checkBoxValue);\n                    editor.apply();\n                }\n                else {\n                    timeSlotArray.remove(\"18:00-21:00\");\n                    checkBoxValue=false;\n                    editor.putBoolean(\"evening\", checkBoxValue);\n                    editor.apply();\n                }\n            }\n            if (buttonView==nightTime)\n            {\n                if (isChecked){\n                    timeSlotArray.add(\"21:00-8:00\");\n                    checkBoxValue=true;\n                    editor.putBoolean(\"overnight\", checkBoxValue);\n                    editor.apply();\n                }\n                else {\n                    timeSlotArray.remove(\"21:00=8:00\");\n                    checkBoxValue=false;\n                    editor.putBoolean(\"overnight\", checkBoxValue);\n                    editor.apply();\n                }\n            }\n        }\n    }\n    public String getSelectedTimeForDay(List<String> startTimeList, List<String> endTimeList) {\n        StringBuilder stringBuilder = new StringBuilder(\"\");\n        int listSize = startTimeList.size();\n        for (int itemIndex = 0; itemIndex < listSize; itemIndex++) {\n            String startTime = startTimeList.get(itemIndex);\n            String endTime = endTimeList.get(itemIndex);\n            stringBuilder.append(startTime + \"-\" + endTime);\n            if (itemIndex < listSize - 1) {\n                stringBuilder.append(\", \");\n            }\n        }\n        return stringBuilder.toString();\n    }\n\n\n}\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/elshare/map_frag.java	(revision 68d9d9a9018671e28448b6dd941bdaf37cf916af)
+++ app/src/main/java/com/example/elshare/map_frag.java	(date 1608522771045)
@@ -870,6 +870,7 @@
                                      rate_text.setText(availabilityPojo.getProvider().getFinalPrice());
 
 
+
                                      if (availabilityPojo.getProvider().getChargerBrand()!=null) {
                                          if (availabilityPojo.getProvider().getSocket()!=null) {
                                              socket_type.setText(availabilityPojo.getProvider().getSocket());
